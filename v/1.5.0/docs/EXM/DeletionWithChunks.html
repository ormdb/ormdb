
<co type="warning">
    <k>Delete</k> operation is always a problem for the large records. But you can break the large delete operation into chunks.
</co>

Following section demonstrates <b>deletion with chunks</b>.
<code-tab>
    <pre lang="c#">
        // Ids are being obtained for the records to be deleted...
        var _ids = SQL.X.Select(h.Id)
                    .From(h, h.Year &lt; 2018)
                    .ExecuteReader(cn).Select(x => x(0).ToString());

        // records are being deleted in chunks, by supplying record Id information.
        int _index = 0;
        int _chunk_size = 3000;

        var sql = Core.Ado.SQL.X.Query;
        do {
            var _items = _ids.Skip(_index).Take(_chunk_size);
            if (_items.Count == 0) break;

            sql.Delete(h, h.Id.In(_items));  // headers are being deleted
            sql.Delete(l, l.Id.In(_items));  // lines are being deleted
            sql.Execute(cn, ClearQue: true);

            _index += _chunk_size;
        }
	</pre>
    <pre lang="vb">
        ' Ids are being obtained for the records to be deleted...
        Dim _ids = SQL.X.Select(h.Id) _
                    .From(h, h.Year &lt; 2018) _
                    .ExecuteReader(cn).Select(Function(x) x(0).ToString())

        ' records are being deleted in chunks, by supplying record Id information.
        Dim _index As Integer = 0
        Dim _chunk_size As Integer = 3000

        Dim sql = Core.Ado.SQL.X.Query
        Do
            Dim _items = _ids.Skip(_index).Take(_chunk_size)
            If (_items.Count = 0) Exit Do

            sql.Delete(h, h.Id.In(_items))  ' headers are being deleted
            sql.Delete(l, l.Id.In(_items))  ' lines are being deleted
            sql.Execute(cn, ClearQue:= True)

            _index += _chunk_size
        Loop
	</pre>
</code-tab>
