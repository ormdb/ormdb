
<co type="warning">
    <k>Delete</k> operation is always a problem for the large records. But you can break the large delete operation into chunks.
</co>
<br />
Following section demonstrates <b>deletion with chunks</b>.
<code-tab>
    <pre lang="c#">
        var th = new TableHeader();
        var tl = new TableLines();

        // Ids are being obtained for the records to be deleted...
        var _ids = Odb.SQL.Select(x =>
                        x.Fields(th.Id.DISTINCT()) 
                         .From(th) 
                         .Where(th.Year == 2018)
                    ).ExecuteReader(cn)
                    .Select(x => x[0].ToString()).ToList();
        
        // records are being deleted in chunks, by supplying record Id information.
        var _index = 0;
        var _chunk_size = 3000;
        var qry = Odb.SQL.Query();
        do {
            var _items = _ids.Skip(_index).Take(_chunk_size);
            If (_items.Count = 0) break;

            // command are being queued
            qry.Delete(x => x.From(th).Where(th.Id.IN(_items)) );
            qry.Delete(x => x.From(tl).Where(tl.Id.IN(_items)) );

            qry.Execute(cn);                // queries are being executed
            qry.Clear();                    // buffer is being clear
        
            _index += _chunk_size;
        }
	</pre>
    <pre lang="vb">
        Dim th = new TableHeader()
        Dim tl = new TableLines()

        ' Ids are being obtained for the records to be deleted...
        Dim _ids = Odb.SQL.Select(Function(x) _
                        x.Fields(th.Id.DISTINCT()) _
                         .From(th) _
                         .Where(th.Year = 2018)
                    ).ExecuteReader(cn) _ 
                    .Select(Function(x) x(0).ToString()).ToList()
        
        ' records are being deleted in chunks, by supplying record Id information.
        Dim _index = 0
        Dim _chunk_size = 3000
        Dim qry = Odb.SQL.Query()
        Do
            Dim _items = _ids.Skip(_index).Take(_chunk_size)
            If (_items.Count = 0) Exit Do

            ' command are being queued
            qry.Delete(Function(x) x.From(th).Where(th.Id.IN(_items)) )
            qry.Delete(Function(x) x.From(tl).Where(tl.Id.IN(_items)) )

            qry.Execute(cn)                 ' queries are being executed
            qry.Clear()                     ' buffer is being clear
        
            _index += _chunk_size
        Loop
	</pre>
</code-tab>
